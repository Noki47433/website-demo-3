<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hotel Qama AI Demo</title>
<style>
body { font-family: sans-serif; margin:0; background:#fafafa; }
.chat-button { position: fixed; bottom: 25px; right: 25px; background:#ffb300; color:white; border:none; border-radius:50%; width:65px; height:65px; font-size:28px; cursor:pointer; }
.chat-window { position: fixed; bottom: 100px; right: 25px; width: 400px; height: 500px; background:white; border-radius:16px; box-shadow:0 8px 20px rgba(0,0,0,0.25); display: none; flex-direction: column; overflow:hidden; cursor:move; }
.chat-header { background:#ffb300; color:white; padding:15px; font-weight:600; display:flex; justify-content:space-between; align-items:center; cursor:move; }
.chat-body { flex:1; padding:10px; overflow-y:auto; font-size:14px; }
.chat-input { display:flex; border-top:1px solid #ddd; }
.chat-input input { flex:1; border:none; padding:10px; outline:none; }
.chat-input button { background:#ffb300; color:white; border:none; padding:0 18px; cursor:pointer; }
.msg { margin:8px 0; padding:8px 12px; border-radius:10px; max-width:80%; word-wrap: break-word; }
.user { background:#ffecb3; margin-left:auto; }
.bot { background:#eee; }
.flag { font-size:20px; margin-left:5px; }
.close-btn { background:none; border:none; color:white; font-size:18px; cursor:pointer; }
</style>
</head>
<body>

<button class="chat-button" id="chatBtn">ðŸ’¬</button>

<div class="chat-window" id="chatWindow">
  <div class="chat-header" id="chatHeader">
    Qama Assistant
    <div>
      <span class="flag">ðŸ‡¬ðŸ‡§</span>
      <span class="flag">ðŸ‡¦ðŸ‡±</span>
      <span class="flag">ðŸ‡¹ðŸ‡·</span>
      <span class="flag">ðŸ‡©ðŸ‡ª</span>
      <button class="close-btn" id="closeBtn">âœ–</button>
    </div>
  </div>
  <div class="chat-body" id="chatBody">
    <div class="msg bot">ðŸ‘‹ Welcome to Hotel Qama! Ask me anything in English, Albanian, Turkish, or German.</div>
  </div>
  <div class="chat-input">
    <input type="text" id="userInput" placeholder="Type a message...">
    <button id="sendBtn">Send</button>
  </div>
</div>

<script>
const chatBtn = document.getElementById("chatBtn");
const chatWindow = document.getElementById("chatWindow");
const chatBody = document.getElementById("chatBody");
const userInput = document.getElementById("userInput");
const sendBtn = document.getElementById("sendBtn");
const closeBtn = document.getElementById("closeBtn");
const chatHeader = document.getElementById("chatHeader");

// Toggle chat
chatBtn.addEventListener("click", () => {
  chatWindow.style.display = chatWindow.style.display === "flex" ? "none" : "flex";
});

// Close chat
closeBtn.addEventListener("click", () => {
  chatWindow.style.display = "none";
});

// Drag chat
let isDragging = false, offsetX, offsetY;
chatHeader.addEventListener("mousedown", (e) => {
  isDragging = true;
  offsetX = e.clientX - chatWindow.offsetLeft;
  offsetY = e.clientY - chatWindow.offsetTop;
});
document.addEventListener("mouseup", () => isDragging = false);
document.addEventListener("mousemove", (e) => {
  if(isDragging){
    chatWindow.style.left = (e.clientX - offsetX) + "px";
    chatWindow.style.top = (e.clientY - offsetY) + "px";
  }
});

// Add message with smooth scroll
function addMessage(sender, text){
  const msg = document.createElement("div");
  msg.className = "msg " + (sender==="user"?"user":"bot");
  msg.textContent = text;
  chatBody.appendChild(msg);
  chatBody.scrollTo({top: chatBody.scrollHeight, behavior: "smooth"});
}

// Language detection
function detectLanguage(text){
  text = text.toLowerCase();
  if(/[a-z]/.test(text) && !/[Ã§Ã«ÅŸÃ¶Ã¼Ä±ÄŸ]/.test(text)) return "en";
  if(/[Ã§Ã«ÅŸ]/.test(text)) return "sq";
  if(/[ÅŸÄ±Ã§Ã¶]/.test(text)) return "tr";
  if(/[Ã¤Ã¶Ã¼ÃŸ]/.test(text)) return "de";
  return "en";
}

// Fake AI responses
function getFakeAIResponse(message){
  const lang = detectLanguage(message);
  message = message.toLowerCase();
  
  const responses = {
    en:{room:"We have Deluxe Queen and Deluxe Double rooms. Prices start at â‚¬50/night.",
        restaurant:"Yes, our restaurant serves local and international dishes every day from 7am to 10pm.",
        checkin:"Check-in is from 13:00 and check-out is at 11:00.",
        wifi:"Yes, free Wi-Fi is available throughout the hotel.",
        contact:"You can call us at +383 45 499 994 or email info@hotelqama.com.",
        languages:"We speak English, Albanian, Turkish, and German.",
        price:"Room prices start at â‚¬50 per night for Deluxe Queen and â‚¬60 for Deluxe Double.",
        hello:"Hello! How can I help you today?",
        thanks:"Youâ€™re welcome! ðŸ˜Š",
        fallback:"Iâ€™m not sure about that. I can help with rooms, restaurant, check-in, Wi-Fi, contact, and languages."},
    sq:{room:"Ne ofrojmÃ« DhomÃ«n Deluxe Queen dhe Deluxe Double. Ã‡mimet fillojnÃ« nga 50â‚¬/natÃ«.",
        restaurant:"Po, restoranti ynÃ« ofron gatime lokale dhe ndÃ«rkombÃ«tare Ã§do ditÃ« nga ora 7 deri nÃ« 22.",
        checkin:"Check-in fillon nga ora 13:00 dhe check-out Ã«shtÃ« nÃ« 11:00.",
        wifi:"Po, Wi-Fi falas Ã«shtÃ« nÃ« dispozicion nÃ« tÃ« gjithÃ« hotelin.",
        contact:"Na mund tÃ« telefononi nÃ« +383 45 499 994 ose email info@hotelqama.com.",
        languages:"Flasim anglisht, shqip, turqisht dhe gjermanisht.",
        price:"Ã‡mimet fillojnÃ« nga 50â‚¬/natÃ« pÃ«r Deluxe Queen dhe 60â‚¬ pÃ«r Deluxe Double.",
        hello:"PÃ«rshÃ«ndetje! Si mund t'ju ndihmoj sot?",
        thanks:"Sâ€™ka pÃ«rse! ðŸ˜Š",
        fallback:"Nuk jam i sigurt pÃ«r kÃ«tÃ«. Mund tÃ« ndihmoj pÃ«r dhomat, restorantin, check-in, Wi-Fi, kontakt dhe gjuhÃ«t."},
    tr:{room:"Deluxe Queen ve Deluxe Double odalarÄ±mÄ±z mevcut. Fiyatlar gecelik â‚¬50'den baÅŸlÄ±yor.",
        restaurant:"Evet, restoranÄ±mÄ±z her gÃ¼n sabah 7'den akÅŸam 10'a kadar yerel ve uluslararasÄ± yemekler sunuyor.",
        checkin:"Check-in 13:00'ten itibaren, check-out ise 11:00'dir.",
        wifi:"Evet, otel genelinde Ã¼cretsiz Wi-Fi mevcuttur.",
        contact:"Bize +383 45 499 994 numarasÄ±ndan veya info@hotelqama.com adresinden ulaÅŸabilirsiniz.",
        languages:"Ä°ngilizce, ArnavutÃ§a, TÃ¼rkÃ§e ve Almanca konuÅŸuyoruz.",
        price:"Deluxe Queen iÃ§in gecelik â‚¬50, Deluxe Double iÃ§in â‚¬60'dan baÅŸlayan fiyatlar.",
        hello:"Merhaba! Size bugÃ¼n nasÄ±l yardÄ±mcÄ± olabilirim?",
        thanks:"Rica ederim! ðŸ˜Š",
        fallback:"Bununla ilgili emin deÄŸilim. Odalar, restoran, check-in, Wi-Fi, iletiÅŸim ve diller hakkÄ±nda yardÄ±mcÄ± olabilirim."},
    de:{room:"Wir haben Deluxe Queen und Deluxe Double Zimmer. Preise beginnen bei 50â‚¬/Nacht.",
        restaurant:"Ja, unser Restaurant serviert tÃ¤glich von 7 bis 22 Uhr lokale und internationale Gerichte.",
        checkin:"Check-in ist ab 13:00 Uhr, Check-out um 11:00 Uhr.",
        wifi:"Ja, kostenloses WLAN ist im gesamten Hotel verfÃ¼gbar.",
        contact:"Sie kÃ¶nnen uns unter +383 45 499 994 anrufen oder info@hotelqama.com schreiben.",
        languages:"Wir sprechen Englisch, Albanisch, TÃ¼rkisch und Deutsch.",
        price:"Die Zimmerpreise beginnen bei 50â‚¬/Nacht fÃ¼r Deluxe Queen und 60â‚¬ fÃ¼r Deluxe Double.",
        hello:"Hallo! Wie kann ich Ihnen heute helfen?",
        thanks:"Gern geschehen! ðŸ˜Š",
        fallback:"Ich bin mir nicht sicher. Ich kann bei Zimmern, Restaurant, Check-in, WLAN, Kontakt und Sprachen helfen."}
  };

  if(message.includes("room") || message.includes("deluxe") || message.includes("dhom") || message.includes("oda")) return responses[lang].room;
  if(message.includes("restaurant") || message.includes("food") || message.includes("ushqim") || message.includes("yemek")) return responses[lang].restaurant;
  if(message.includes("check-in") || message.includes("arrival") || message.includes("kur fillon") || message.includes("giris")) return responses[lang].checkin;
  if(message.includes("wifi") || message.includes("internet")) return responses[lang].wifi;
  if(message.includes("contact") || message.includes("number") || message.includes("email") || message.includes("kontakt")) return responses[lang].contact;
  if(message.includes("languages") || message.includes("gjuha") || message.includes("dil")) return responses[lang].languages;
  if(message.includes("price") || message.includes("Ã§mimi") || message.includes("kosten")) return responses[lang].price;
  if(message.includes("hello") || message.includes("hi") || message.includes("merhaba") || message.includes("pershendetje")) return responses[lang].hello;
  if(message.includes("thank") || message.includes("faleminderit")) return responses[lang].thanks;

  return responses[lang].fallback;
}

// Send message with typing animation
sendBtn.addEventListener("click", () => {
  const message = userInput.value.trim();
  if(!message) return;
  addMessage("user", message);
  userInput.value = "";

  const typingMsg = document.createElement("div");
  typingMsg.className = "msg bot";
  typingMsg.textContent = "Qama Assistant is typing...";
  chatBody.appendChild(typingMsg);
  chatBody.scrollTo({top: chatBody.scrollHeight, behavior: "smooth"});

  const reply = getFakeAIResponse(message);
  setTimeout(() => {
    typingMsg.remove();
    addMessage("bot", reply);
  }, 800 + Math.random()*800);
});
</script>

</body>
</html>
